<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
  <script type="text/javascript" src="http://underscorejs.org/underscore-min.js"></script>

</head>
<body>

  <script >
  d3.csv('Birth_rate.csv' , function(birth){
    var cBirth = d3.nest()
          .key(function(d){return d.Country;})
          .entries(birth); 

    var s = d3.select('body').append('svg')
              .attr("width", 800)
              .attr("height" , 400)
              .style(
              {
                'border':'3px solid black'
              });
    var rect = s.append('g')
            .attr({
              'id':'rect'
            });
var num = s.append('g')
            .attr({
              'id':'num'
            });
var date = s.append('g')
            .attr({
              'id':'date'
            });
    
    var tArray = new Array() ;
    var x = {} ,y = {} , _id = {};
    tArray.push(x) ;
    tArray.push(y) ;
    tArray.push(_id) ;

    tArray[0].x = 1960 ;
      tArray[1].x = 1961 ;
      tArray[2].x = 1962 ;

      tArray[0]._id = 1 ;
      tArray[1]._id = 2;
      tArray[2]._id = 3 ;

    
      tArray[0].y = cBirth[0].values[0].y1960 ;
      tArray[1].y = cBirth[0].values[0].y1961 ;
      tArray[2].y = cBirth[0].values[0].y1962 ;
     /* tArray[3].y = cBirth[0].values[0].y1963 ;
      tArray[4].y = cBirth[0].values[0].y1964 ;
      tArray[5].y = cBirth[0].values[0].y1965 ;
      tArray[6].y = cBirth[0].values[0].y1966 ;
      tArray[7].y = cBirth[0].values[0].y1967 ;
      tArray[8].y = cBirth[0].values[0].y1968 ;
      tArray[9].y = cBirth[0].values[0].y1969 ;*/

    

    rect.selectAll("rect").data(tArray).enter().append("rect")
        .attr("width" , "10" )
        .attr("height" , function(d){
          return d.y * 5 ;
        })
        .attr("fill" , "black") 
        .attr("x" , function(d){
          return 100 + (d._id * 15) ;
        })
        .attr("y" , 100)


    console.log(birth);
    console.log(cBirth);
    console.log(tArray[0].y)
    //console.log(cBirth[0].values[0].y1960);
  })
  </script >







</body>

</html>